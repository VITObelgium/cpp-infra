SET(NAME sqlite)
SET(VERSION 3140200)
SET(PACKAGE ${NAME}-amalgamation-${VERSION})

EXTERNALPROJECT_ADD(${NAME}
    PREFIX ${NAME}
    URL https://www.sqlite.org/2016/${PACKAGE}.zip TIMEOUT 30
    INSTALL_DIR ${CMAKE_INSTALL_PREFIX}
    PATCH_COMMAND ${CMAKE_COMMAND} -E copy ${CMAKE_CURRENT_SOURCE_DIR}/patch/CMakeLists.txt ${CMAKE_CURRENT_BINARY_DIR}/${NAME}/src/${NAME}
    CMAKE_ARGS -G ${CMAKE_GENERATOR}
                   -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
                   -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
                   -DCMAKE_INSTALL_PREFIX=<INSTALL_DIR>
                   -DCMAKE_POSITION_INDEPENDENT_CODE=TRUE
                   ${POSTFIX_CONFIG}
)
