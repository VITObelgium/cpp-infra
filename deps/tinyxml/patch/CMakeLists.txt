CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
CMAKE_POLICY(VERSION 2.8)

PROJECT(tinyxml)
INCLUDE(GNUInstallDirs)

FIND_PATH(ZLIB_INCLUDE_DIR
    zlib.h
)

ADD_DEFINITIONS(-DTIXML_USE_STL)
INCLUDE_DIRECTORIES(SYSTEM ${CMAKE_CURRENT_SOURCE_DIR})
ADD_LIBRARY(tinyxml STATIC tinyxml.h tinyxml.cpp tinyxmlerror.cpp tinyxmlparser.cpp)

INSTALL(TARGETS tinyxml
        RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
        LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
        ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR})

INSTALL(FILES tinyxml.h DESTINATION ${CMAKE_INSTALL_INCLUDEDIR})