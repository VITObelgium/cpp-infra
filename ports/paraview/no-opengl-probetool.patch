diff -Naur a/VTK/Rendering/OpenGL2/CMakeLists.txt b/VTK/Rendering/OpenGL2/CMakeLists.txt
--- a/VTK/Rendering/OpenGL2/CMakeLists.txt	2018-10-29 11:56:41.100901000 +0100
+++ b/VTK/Rendering/OpenGL2/CMakeLists.txt	2018-10-29 12:10:17.901543000 +0100
@@ -319,7 +319,7 @@
   vtk_module_link_libraries(${vtk-module} LINK_PUBLIC "-framework UIKit")
 endif()
 
-if (NOT ANDROID AND NOT APPLE_IOS AND NOT CMAKE_SYSTEM_NAME STREQUAL "Emscripten")
+if (NOT ANDROID AND NOT APPLE_IOS AND NOT CMAKE_SYSTEM_NAME STREQUAL "Emscripten" AND VTK_USE_X)
   VTK_ADD_EXECUTABLE(vtkProbeOpenGLVersion vtkProbeOpenGLVersion.cxx)
   target_link_libraries(vtkProbeOpenGLVersion ${vtk-module})
 endif()
