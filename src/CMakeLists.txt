FIND_PATH(ZLIB_INCLUDE_DIR NAMES zlib.h)
FIND_LIBRARY(ZLIB_LIBRARY NAMES zlibstatic z)

FIND_PATH(TINYXML_INCLUDE_DIR NAMES tinyxml.h)
FIND_LIBRARY(TINYXML_LIBRARY NAMES tinyxml)
FIND_LIBRARY(HDF5_LIBRARY NAMES libhdf5 hdf5)
FIND_LIBRARY(HDF5_CPP_LIBRARY NAMES libhdf5_cpp hdf5_cpp)

FIND_LIBRARY(GZSTREAM_LIBRARY NAMES gzstream)

IF (MSVC)
    FIND_LIBRARY(GETOPT_LIBRARY NAMES wingetopt)
    FIND_LIBRARY(DL_LIBRARY NAMES dl)

    SET(EXTRA_LIBS Psapi)
ENDIF ()

FIND_PATH(EIGEN3_INCLUDE_DIR
    NAMES Eigen/Dense
    PATH_SUFFIXES eigen3
)

IF (NOT EIGEN3_INCLUDE_DIR)
    MESSAGE(FATAL_ERROR "Could not find eigen headers")
ENDIF ()

INCLUDE_DIRECTORIES(SYSTEM
    ${EIGEN3_INCLUDE_DIR}
    ${ZLIB_INCLUDE_DIR}
    ${TINYXML_INCLUDE_DIR}
)

ADD_DEFINITIONS(-DTIXML_USE_STL -D_XOPEN_SOURCE)

ADD_SUBDIRECTORY(opaq_core)
ADD_SUBDIRECTORY(plugins)
